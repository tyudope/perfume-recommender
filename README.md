# ğŸŒ¸ Perfume Recommender â€” AI-Driven Fragrance Recommendation System

> **An AI-powered perfume recommender that blends semantic search, data-driven ranking, and GPT-4o reasoning to suggest fragrances based on user preferences, use-cases, and scent profiles.**

![screenshot](assets/preview.png)

---

## ğŸš€ Project Overview

This project is a **hybrid recommender system** designed to suggest perfumes tailored to user preferences.  
It combines **machine learning**, **information retrieval**, and **GenAI explainability** using a clean **FastAPI + Vanilla JS** stack.

Users can:
- Input their **favorite perfumes** and **preferred notes**
- Set filters (price, gender, longevity, sillage, rating)
- Get **ranked recommendations** based on semantic similarity
- Optionally enable **AI explanations** powered by OpenAI GPT-4o-mini

---

## ğŸ§  Core Idea

Perfume preference is deeply **semantic** â€” users think in scents and moods, not numbers.  
This system captures that by embedding perfumes into a **vector space** where semantic similarity drives recommendations.

| Component | Description |
|------------|-------------|
| **Semantic Search** | Uses text embeddings or TF-IDF vectors to find perfumes similar to user input |
| **Hybrid Ranking** | Combines similarity with rating, longevity, and popularity |
| **Explainable AI** | GPT-4o-mini provides short, natural-language reasoning for top results |
| **Clean UI** | Built with HTML, CSS, and JavaScript; mobile-friendly and intuitive |

---

## ğŸ“‚ Directory Structure

```
perfume-recommender/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py              # FastAPI backend
â”‚   â”‚   â”œâ”€â”€ providers.py         # LLM connector (OpenAI)
â”‚   â”‚   â”œâ”€â”€ recommender.py       # scoring logic
â”‚   â”‚   â”œâ”€â”€ vectorstore.py       # semantic similarity search
â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”‚       â”œâ”€â”€ index.html       # main UI
â”‚   â”‚       â”œâ”€â”€ intro.html       # usage instructions
â”‚   â”‚       â””â”€â”€ about.html       # algorithm details
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ style.css            # beige luxury theme
â”‚       â””â”€â”€ app.js               # interactive frontend
â””â”€â”€ data/
    â””â”€â”€ perfumes.csv             # cleaned Fragrantica dataset
```

---

## ğŸ§® Algorithm

### 1. Semantic Vector Search

Each perfume is represented by a **text vector** built from its:
```
brand + name + main_accords + description
```
We compute **cosine similarity** between the user query and all perfumes:
```
similarity = (A â‹… B) / (||A|| * ||B||)
```

### 2. Rule-Based Filtering
Filters apply constraints such as:
- `price_min`, `price_max`
- `rating_min`, `rating_count_min`
- `longevity_min`, `sillage_min`
- `gender`

### 3. Weighted Ranking
Final ranking score:
```
score = 0.40*content_sim + 0.15*usecase + 0.15*longevity +
        0.20*rating + 0.10*rating_count
```

### 4. Use-case Scoring
A small overlap metric to check fit between userâ€™s selected use-cases and perfume accords.

### 5. GenAI Explanation Layer
Top-K results get reasoning generated by `GPT-4o-mini`, returning two concise bullet points explaining *why* it matches the user.

---

## ğŸ§° Tech Stack

| Layer | Technology |
|-------|-------------|
| Backend | FastAPI, Pandas |
| Frontend | Vanilla JS, Jinja2, HTML5, CSS3 |
| Vector Search | TF-IDF / cosine similarity |
| AI Reasoning | OpenAI GPT-4o-mini |
| Deployment | Render / Docker |
| Data | Cleaned Fragrantica dataset |

---

## âš™ï¸ Setup & Run Locally

### 1. Clone
```
git clone https://github.com/tyudope/perfume-recommender.git
cd perfume-recommender/backend
```

### 2. Install dependencies
```
pip install -r requirements.txt
```

### 3. Create `.env`
```
OPENAI_API_KEY=sk-xxxxxx
OPENAI_MODEL=gpt-4o-mini
MAX_K=10
MAX_LLM_EXPLAINS=5
```

### 4. Run
```
uvicorn app.main:app --reload
```
Then visit: [http://127.0.0.1:8000](http://127.0.0.1:8000)

---

## ğŸŒ Deployment (Render)

1. Connect your GitHub repo to [Render.com](https://render.com)
2. Add environment variables from `.env`
3. Set build command:
   ```
   pip install -r backend/requirements.txt
   ```
4. Start command:
   ```
   cd backend && uvicorn app.main:app --host 0.0.0.0 --port 10000
   ```
5. Enable auto-deploys.

---

## ğŸ’¡ Features

- âœ… Content-based perfume recommendations
- âœ… Dynamic filters & semantic search
- âœ… AI-generated explanations (â€œAI saysâ€¦â€)
- âœ… Clean, mobile-friendly UI
- âœ… Render-ready deployment
- âœ… Simple, readable Python & JS architecture

---

## ğŸ§© Example Output

```json
{
  "brand": "Chanel",
  "name": "Bleu de Chanel",
  "score": 0.547,
  "accords": ["citrus", "woody", "aromatic"],
  "ai_why": "â€¢ Shares citrusâ€“woody profile you enjoy\nâ€¢ Works well for summer and office wear"
}
```

---

## ğŸ§‘â€ğŸ’» Author

**Selim DalÃ§iÃ§ek**  
Student at Polish-Japanese Academy of Information Technology (PJATK)  
ğŸ¯ Aspiring Machine Learning Engineer | Data Science Enthusiast  
ğŸ“ Warsaw, Poland  

---

## ğŸ§  Future Improvements

- Replace TF-IDF with OpenAI `text-embedding-3-small`
- Add collaborative filtering for user history
- Improve rating normalization with Bayesian averages
- Support multilingual input (PL, EN, TR)
- Deploy full-stack version with user accounts

---

## ğŸ“œ License

MIT License â€” free to use and modify.
